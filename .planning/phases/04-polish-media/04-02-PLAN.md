---
phase: 04-polish-media
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - app/[locale]/layout.tsx
  - public/og-image.png
  - components/shared/demo-video.tsx
  - app/[locale]/page.tsx
autonomous: false

must_haves:
  truths:
    - "Page has locale-aware SEO title and description in meta tags"
    - "Open Graph image is set and resolves to an absolute URL via metadataBase"
    - "User can watch an embedded demo video on the home page"
  artifacts:
    - path: "app/[locale]/layout.tsx"
      provides: "generateMetadata function with OG tags"
      contains: "generateMetadata"
    - path: "public/og-image.png"
      provides: "1200x630 Open Graph image"
    - path: "components/shared/demo-video.tsx"
      provides: "Lazy-loaded video embed component"
      contains: "iframe"
  key_links:
    - from: "app/[locale]/layout.tsx"
      to: "public/og-image.png"
      via: "openGraph.images reference"
      pattern: "og-image.png"
    - from: "app/[locale]/page.tsx"
      to: "components/shared/demo-video.tsx"
      via: "import and render"
      pattern: "DemoVideo"
---

<objective>
Add SEO metadata with Open Graph image and embed a demo video on the home page.

Purpose: The site needs proper meta tags for social sharing (jury members may share links) and a demo video showing ShopControl AI in action. Currently the layout has a static metadata export that lacks OG image and locale awareness.
Output: generateMetadata in layout, OG image file, demo video component on home page.
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-polish-media/04-RESEARCH.md
@app/[locale]/layout.tsx
@app/[locale]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace static metadata with generateMetadata and add OG image</name>
  <files>app/[locale]/layout.tsx, public/og-image.png</files>
  <action>
1. In `app/[locale]/layout.tsx`:
   - Remove the `export const metadata: Metadata = {...}` static export
   - Add `generateMetadata` async function:
     ```typescript
     export async function generateMetadata({ params }: { params: Promise<{ locale: string }> }): Promise<Metadata> {
       const { locale } = await params;
       const isDE = locale === "de";
       return {
         metadataBase: new URL(process.env.VERCEL_PROJECT_PRODUCTION_URL ? `https://${process.env.VERCEL_PROJECT_PRODUCTION_URL}` : "https://shopcontrol-ai.vercel.app"),
         title: {
           default: "ShopControl AI - Jugend Innovativ 2026",
           template: "%s | ShopControl AI",
         },
         description: isDE
           ? "KI-gestützte Automatisierung für Online-Shops. Ein Projekt der HTL Klagenfurt."
           : "AI-powered automation for online shops. A project by HTL Klagenfurt.",
         openGraph: {
           title: "ShopControl AI - Jugend Innovativ 2026",
           description: isDE
             ? "KI-gestützte Automatisierung für Online-Shops."
             : "AI-powered automation for online shops.",
           images: [{ url: "/og-image.png", width: 1200, height: 630 }],
           type: "website",
           locale: isDE ? "de_AT" : "en_US",
         },
         twitter: {
           card: "summary_large_image",
         },
       };
     }
     ```
   - Keep all other layout code unchanged

2. Create a simple OG image at `public/og-image.png`:
   - Size: 1200x630px
   - Since Claude cannot create images, create a placeholder SVG-based approach: write a simple HTML file, or note that user needs to provide the actual OG image.
   - For now, copy an existing project image or create a minimal placeholder. If no image tool available, skip file creation and note it in the checkpoint.
  </action>
  <verify>Run `npx next build` — no errors. Check page source for og:image meta tag. Verify metadataBase resolves correctly.</verify>
  <done>Layout uses generateMetadata with locale-aware title, description, and OG image reference.</done>
</task>

<task type="auto">
  <name>Task 2: Create DemoVideo component and add to home page</name>
  <files>components/shared/demo-video.tsx, app/[locale]/page.tsx</files>
  <action>
1. Create `components/shared/demo-video.tsx`:
   - "use client" component
   - Accept props: `videoId: string`, `title?: string`
   - Render a responsive YouTube iframe:
     ```
     <div className="aspect-video w-full overflow-hidden rounded-xl border border-border">
       <iframe
         src={`https://www.youtube.com/embed/${videoId}`}
         title={title || "ShopControl AI Demo"}
         allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
         allowFullScreen
         loading="lazy"
         className="h-full w-full"
       />
     </div>
     ```

2. Update `app/[locale]/page.tsx`:
   - Add a demo video section below the hero section
   - Import `DemoVideo` from `@/components/shared/demo-video`
   - Get translation keys for the section heading: use `getTranslations("demo")` or add heading inline
   - Add a new section with max-w-4xl container, centered, with a heading like "See it in Action" / "Sieh es in Aktion"
   - Use a placeholder YouTube video ID for now (e.g. `"dQw4w9WgXcQ"`) — user will replace with real demo video ID
   - Wrap the section in FadeInSection for scroll-triggered animation
   - Add translation keys for demo section heading to both DE and EN message files if needed

3. Add translation keys to `messages/de.json` and `messages/en.json`:
   - Under a new "demo" key: `{ "heading": "Demo Video", "subheading": "Sehen Sie ShopControl AI in Aktion" }` (DE)
   - EN: `{ "heading": "Demo Video", "subheading": "See ShopControl AI in action" }`
  </action>
  <verify>Run `npx next build` — no errors. Home page shows demo video section below hero with responsive YouTube embed.</verify>
  <done>Demo video component exists and is embedded on home page with lazy-loaded YouTube iframe.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    1. SEO metadata with generateMetadata (locale-aware title, description, OG tags)
    2. Demo video section on home page with YouTube embed
    3. OG image placeholder (user may need to provide real 1200x630 PNG)
  </what-built>
  <how-to-verify>
    1. Open http://localhost:3000/de — view page source, confirm og:title, og:description, og:image meta tags present
    2. Open http://localhost:3000/en — confirm English description in meta tags
    3. Scroll down on home page — demo video section visible with YouTube player
    4. Check: Do you want to replace the placeholder video ID with your real demo video?
    5. Check: Do you want to provide a custom OG image (1200x630 PNG) at public/og-image.png?
  </how-to-verify>
  <resume-signal>Type "approved" or describe what needs changing (video ID, OG image, etc.)</resume-signal>
</task>

</tasks>

<verification>
1. `npx next build` completes without errors
2. Page source contains og:title, og:description, og:image, twitter:card meta tags
3. OG image reference resolves (og:image URL is absolute)
4. Home page has demo video section with responsive YouTube embed
5. Video loads lazily (loading="lazy" attribute on iframe)
</verification>

<success_criteria>
- generateMetadata replaces static metadata export in layout
- OG image file exists at public/og-image.png (even if placeholder)
- DemoVideo component renders YouTube iframe with lazy loading
- Demo section visible on home page below hero
- Both DE and EN locales produce correct meta tag language
</success_criteria>

<output>
After completion, create `.planning/phases/04-polish-media/04-02-SUMMARY.md`
</output>
