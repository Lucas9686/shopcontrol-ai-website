---
phase: 07-umlauts-route-restructure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - webapp/messages/de.json
  - webapp/messages/en.json
autonomous: true

must_haves:
  truths:
    - "de.json contains no ASCII-encoded umlauts (ae/oe/ue/ss used as umlaut substitutes)"
    - "en.json contains no ASCII-encoded umlauts in German proper nouns"
    - "No false positives -- words like Wissen, Ressel remain unchanged"
  artifacts:
    - path: "webapp/messages/de.json"
      provides: "German translations with real umlauts"
      contains: "\\u00e4|\\u00f6|\\u00fc|\\u00df"
    - path: "webapp/messages/en.json"
      provides: "English translations with corrected German proper nouns"
  key_links: []
---

<objective>
Replace all ASCII-encoded umlauts with real Unicode characters in translation files.

Purpose: Fix display of German text across the entire site -- ae/oe/ue/ss substitutes look unprofessional.
Output: Updated de.json and en.json with proper umlauts.
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-umlauts-route-restructure/07-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace ASCII umlauts in de.json</name>
  <files>webapp/messages/de.json</files>
  <action>
    Read webapp/messages/de.json completely. Replace ASCII-encoded umlauts with real characters:
    - ae -> ä (e.g., waehrend -> während, Saeulen -> Säulen, haengt -> hängt)
    - oe -> ö (e.g., Loesung -> Lösung, koennen -> können, Oesterreich -> Österreich)
    - ue -> ü (e.g., Ueber -> Über, fuer -> für, gestuetzte -> gestützte)
    - ss -> ß WHERE APPROPRIATE (e.g., grosser -> großer, Strasse -> Straße)

    CRITICAL: Do NOT blindly replace. Review each occurrence:
    - "ss" in "Wissen", "Ressel", "lassen", "messen", "Impressum" must stay as "ss"
    - "ue" that is genuinely two separate sounds (rare in this codebase but check)
    - Only replace where the ASCII pattern is clearly a substitute for an umlaut

    Approach: Read the file, make all replacements carefully by understanding each word, write the updated file.
  </action>
  <verify>
    Search de.json for remaining ASCII umlaut patterns. Grep for common known patterns like "Loesung", "Ueber", "fuer", "oe", "ae" and confirm none remain.
    Verify "Wissen", "Impressum" etc. still have "ss" (not falsely converted to ß).
    Run: `cd webapp && npx next build` -- build must succeed.
  </verify>
  <done>de.json contains real umlauts (ä, ö, ü, ß). No false positives. Build passes.</done>
</task>

<task type="auto">
  <name>Task 2: Fix umlauts in en.json</name>
  <files>webapp/messages/en.json</files>
  <action>
    Read webapp/messages/en.json. Check for any German words that leaked in with ASCII umlauts (e.g., "Lastenstrasse" -> "Lastenstraße", any German brand names or proper nouns).

    English text itself should NOT get umlaut replacements -- only German words/proper nouns embedded in English translations.

    This is expected to be a small number of changes.
  </action>
  <verify>
    Grep en.json for known patterns: "strasse", "Strasse", any ae/oe/ue that look like German words.
    Run: `cd webapp && npx next build` -- build must succeed.
  </verify>
  <done>en.json has no ASCII-encoded umlauts in German proper nouns. Build passes.</done>
</task>

</tasks>

<verification>
1. `grep -c "ae\|oe\|ue" webapp/messages/de.json` returns only legitimate non-umlaut occurrences
2. Words like "Wissen", "Impressum", "lassen" still spelled correctly
3. `cd webapp && npx next build` succeeds
</verification>

<success_criteria>
- de.json and en.json contain no ASCII-encoded umlaut substitutes
- No false positive replacements (ss that should remain ss, etc.)
- Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/07-umlauts-route-restructure/07-01-SUMMARY.md`
</output>
