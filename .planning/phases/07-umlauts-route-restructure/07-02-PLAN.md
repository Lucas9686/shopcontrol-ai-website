---
phase: 07-umlauts-route-restructure
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - webapp/components/shared/navbar.tsx
  - webapp/app/[locale]/support-agent/page.tsx
  - webapp/app/[locale]/accounting/page.tsx
  - webapp/app/[locale]/finance-plan/page.tsx
  - webapp/messages/de.json
  - webapp/messages/en.json
autonomous: true

must_haves:
  truths:
    - "Navigation shows: Startseite | Supportagent | Buchhaltungstool | Technologien | Ergebnisse | Finanzplan | Ueber uns"
    - "Routes /support-agent, /accounting, /finance-plan exist and load without error"
    - "Routes /problem and /solution are removed"
    - "Site builds and deploys successfully"
  artifacts:
    - path: "webapp/components/shared/navbar.tsx"
      provides: "Updated navItems array with new routes"
      contains: "supportAgent|accounting|finance-plan"
    - path: "webapp/app/[locale]/support-agent/page.tsx"
      provides: "Support agent route page"
      min_lines: 10
    - path: "webapp/app/[locale]/accounting/page.tsx"
      provides: "Accounting route page"
      min_lines: 10
    - path: "webapp/app/[locale]/finance-plan/page.tsx"
      provides: "Finance plan route page"
      min_lines: 10
  key_links:
    - from: "webapp/components/shared/navbar.tsx"
      to: "webapp/messages/de.json"
      via: "useTranslations('nav') keys"
      pattern: "supportAgent|accounting|financePlan"
    - from: "webapp/app/[locale]/support-agent/page.tsx"
      to: "webapp/messages/de.json"
      via: "useTranslations"
      pattern: "supportAgent"
---

<objective>
Restructure routes and navigation: create 3 new route pages, remove 2 old ones, update navbar and translation keys.

Purpose: Align site structure with the target information architecture for v1.2 (separate pages for Supportagent, Buchhaltungstool, Finanzplan).
Output: Working navigation with new routes, placeholder content on new pages (full content comes in Phase 8-9).
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-umlauts-route-restructure/07-RESEARCH.md
@webapp/components/shared/navbar.tsx
@webapp/app/[locale]/problem/page.tsx
@webapp/app/[locale]/solution/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create new route pages and remove old routes</name>
  <files>
    webapp/app/[locale]/support-agent/page.tsx
    webapp/app/[locale]/accounting/page.tsx
    webapp/app/[locale]/finance-plan/page.tsx
    webapp/app/[locale]/problem/page.tsx (DELETE)
    webapp/app/[locale]/solution/page.tsx (DELETE)
  </files>
  <action>
    1. Read existing page files (problem/page.tsx and solution/page.tsx) to understand the page component pattern used in this project (params handling, useTranslations usage, layout structure).

    2. Create 3 new route pages following the EXACT same pattern as existing pages:

    webapp/app/[locale]/support-agent/page.tsx:
    - Use useTranslations("supportAgent") for content
    - Placeholder content: heading "Supportagent" and a paragraph saying content is coming soon
    - Follow same params/locale pattern as existing pages

    webapp/app/[locale]/accounting/page.tsx:
    - Use useTranslations("accounting") for content
    - Placeholder content: heading "Buchhaltungstool" and coming soon paragraph
    - Same pattern

    webapp/app/[locale]/finance-plan/page.tsx:
    - Use useTranslations("financePlan") for content
    - Placeholder content: heading "Finanzplan" and coming soon paragraph
    - Same pattern

    3. Delete the old route directories:
    - Delete webapp/app/[locale]/problem/ entirely
    - Delete webapp/app/[locale]/solution/ entirely

    4. Search the ENTIRE codebase for any remaining references to "/problem" or "/solution" routes (in components, pages, translation files). Update or remove all found references.
  </action>
  <verify>
    Confirm new directories exist: `ls webapp/app/*/support-agent/ webapp/app/*/accounting/ webapp/app/*/finance-plan/`
    Confirm old directories gone: `ls webapp/app/*/problem/ webapp/app/*/solution/` should fail
    Grep for stale references: `grep -r "/problem\|/solution" webapp/` should return nothing route-related
  </verify>
  <done>3 new route pages exist, 2 old routes deleted, no stale references in codebase.</done>
</task>

<task type="auto">
  <name>Task 2: Update navbar and translation nav keys</name>
  <files>
    webapp/components/shared/navbar.tsx
    webapp/messages/de.json
    webapp/messages/en.json
  </files>
  <action>
    1. Update navItems array in webapp/components/shared/navbar.tsx to:
    ```typescript
    const navItems = [
      { key: "home", href: "/" },
      { key: "supportAgent", href: "/support-agent" },
      { key: "accounting", href: "/accounting" },
      { key: "technology", href: "/technology" },
      { key: "results", href: "/results" },
      { key: "financePlan", href: "/finance-plan" },
      { key: "about", href: "/about" },
    ] as const;
    ```

    2. Update nav keys in webapp/messages/de.json:
    - Remove "problem" and "solution" nav keys
    - Add: "supportAgent": "Supportagent", "accounting": "Buchhaltungstool", "financePlan": "Finanzplan"
    - Change "technology" label to "Technologien"
    - Change "about" label to "Über uns" (with real umlaut -- Plan 01 may have already done this)

    3. Update nav keys in webapp/messages/en.json:
    - Remove "problem" and "solution" nav keys
    - Add: "supportAgent": "Support Agent", "accounting": "Accounting Tool", "financePlan": "Finance Plan"
    - Change "technology" label to "Technologies"

    4. Add minimal translation sections for the new pages in both de.json and en.json:
    - "supportAgent": { "title": "Supportagent", "placeholder": "Inhalte werden in Kürze hinzugefügt." }
    - "accounting": { "title": "Buchhaltungstool", "placeholder": "Inhalte werden in Kürze hinzugefügt." }
    - "financePlan": { "title": "Finanzplan", "placeholder": "Inhalte werden in Kürze hinzugefügt." }
    (And English equivalents)

    NOTE: Plan 01 also modifies de.json and en.json (umlaut fixes). If Plan 01 runs first, read the UPDATED files. If running in parallel, coordinate: this task touches only "nav" keys and adds new top-level sections -- it does NOT modify existing content strings.
  </action>
  <verify>
    Run: `cd webapp && npx next build` -- must succeed with no errors.
    Run dev server and verify navigation renders all 7 items.
    Click each nav item -- all should load without 404.
  </verify>
  <done>Navigation shows 7 items matching target. All routes load. Build passes. No references to old /problem or /solution routes remain.</done>
</task>

</tasks>

<verification>
1. `cd webapp && npx next build` succeeds
2. Navigation renders: Startseite | Supportagent | Buchhaltungstool | Technologien | Ergebnisse | Finanzplan | Über uns
3. Routes /support-agent, /accounting, /finance-plan load
4. Routes /problem, /solution return 404 (directories deleted)
5. `grep -r "/problem\|/solution" webapp/` returns no route references
</verification>

<success_criteria>
- 7 nav items render correctly in both languages
- 3 new routes load with placeholder content
- 2 old routes fully removed
- Build succeeds, no broken links
</success_criteria>

<output>
After completion, create `.planning/phases/07-umlauts-route-restructure/07-02-SUMMARY.md`
</output>
