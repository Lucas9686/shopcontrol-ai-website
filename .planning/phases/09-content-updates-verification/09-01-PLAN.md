---
phase: 09-content-updates-verification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - webapp/app/[locale]/finance-plan/page.tsx
  - webapp/messages/de.json
  - webapp/messages/en.json
autonomous: true

must_haves:
  truths:
    - "Finanzplan page shows Kostenstruktur section with token costs and monthly costs vs human agent"
    - "Finanzplan page shows 3-tier Preismodell (Starter/Pro/Enterprise) with pricing chart"
    - "Finanzplan page shows 3-Jahres-Prognose with revenue forecast chart"
    - "Finanzplan page shows Szenarioanalyse with scenario chart"
  artifacts:
    - path: "webapp/app/[locale]/finance-plan/page.tsx"
      provides: "Full Finanzplan page with charts and content sections"
      min_lines: 80
  key_links:
    - from: "webapp/app/[locale]/finance-plan/page.tsx"
      to: "components/results/pricing-comparison-chart.tsx"
      via: "import"
      pattern: "import.*PricingComparisonChart"
    - from: "webapp/app/[locale]/finance-plan/page.tsx"
      to: "components/results/revenue-forecast-chart.tsx"
      via: "import"
      pattern: "import.*RevenueForecastChart"
    - from: "webapp/app/[locale]/finance-plan/page.tsx"
      to: "components/results/scenario-chart.tsx"
      via: "import"
      pattern: "import.*ScenarioChart"
---

<objective>
Build the full Finanzplan page from its current placeholder stub, importing the three existing chart components and adding content sections for Kostenstruktur, Preismodell, Kernannahmen, and Ergebnisuebersicht.

Purpose: PAGE-03 requirement — Finanzplan as its own dedicated page with financial data from the Projektbericht.
Output: Complete finance-plan page with 4 content sections and 3 charts, DE+EN translations.
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-content-updates-verification/09-RESEARCH.md

Key reference — current Results page has the chart imports and translation key structure to copy:
@webapp/app/[locale]/results/page.tsx
@webapp/app/[locale]/finance-plan/page.tsx
@webapp/messages/de.json (financePlan section and results.financials/charts sections)
@webapp/messages/en.json (same sections)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add financePlan translation keys in DE and EN</name>
  <files>webapp/messages/de.json, webapp/messages/en.json</files>
  <action>
Replace the minimal `financePlan` object (currently just `title` and `placeholder`) with full content keys. Structure:

```
financePlan: {
  title: "Finanzplan",
  subtitle: "Kostenstruktur, Preismodell und Wachstumsprognose",

  costStructure: {
    title: "Kostenstruktur",
    subtitle: "KI vs. menschlicher Support",
    tokenCosts: "Pro Anfrage: ~4.000 Input-Tokens + ~17.000 Output-Tokens",
    monthlyCosts: "Monatliche KI-Kosten: 50–80 EUR",
    humanCosts: "Vergleich menschlicher Agent: 800–1.500 EUR/Monat",
    savings: "Kosteneinsparung: über 90%"
  },

  pricing: {
    title: "Preismodell — 3 Stufen",
    description: "SaaS-Abo mit margenstarker Struktur",
    starter: { name: "Starter", price: "99 EUR/Monat", original: "149 EUR/Monat (Einführungspreis)", target: "Kleine Shops" },
    pro: { name: "Pro", price: "179 EUR/Monat", original: "249 EUR/Monat (Einführungspreis)", target: "Wachsende Shops" },
    enterprise: { name: "Enterprise", price: "Individuell", target: "Große Händler" },
    margin: "Marge: 60–90%"
  },

  assumptions: {
    title: "Kernannahmen",
    avgRevenue: "Durchschnittlicher Umsatz pro Kunde: 180 EUR/Monat",
    cac: "Customer Acquisition Cost: 80–120 EUR",
    churn: "Monatliche Churn-Rate: 5–8%",
    customers: "Kundenentwicklung: 15 → 60 → 180 (über 3 Jahre)"
  },

  forecast: {
    title: "3-Jahres-Prognose",
    description: "Umsatz- und Gewinnentwicklung",
    year1: { revenue: "32.400 EUR", profit: "28.800 EUR" },
    year2: { revenue: "129.600 EUR", profit: "106.100 EUR" },
    year3: { revenue: "388.800 EUR", profit: "321.800 EUR" }
  },

  scenario: {
    title: "Szenarioanalyse",
    description: "Optimistisches vs. konservatives Szenario",
    conservative: "Konservativ: 40% weniger Kunden"
  },

  charts: {
    basic: "Starter",
    pro: "Pro",
    enterprise: "Enterprise",
    pricePerMonth: "Preis / Monat",
    revenue: "Umsatz",
    costs: "Kosten",
    year1: "Jahr 1",
    year2: "Jahr 2",
    year3: "Jahr 3",
    optimistic: "Optimistisch",
    realistic: "Realistisch",
    pessimistic: "Konservativ"
  }
}
```

Create equivalent EN translations. All data points must match the PDF values from 09-RESEARCH.md (Sec 12-14).
  </action>
  <verify>Check de.json and en.json parse without errors: `cd webapp && node -e "JSON.parse(require('fs').readFileSync('messages/de.json','utf8')); console.log('de OK')" && node -e "JSON.parse(require('fs').readFileSync('messages/en.json','utf8')); console.log('en OK')"`</verify>
  <done>Both translation files contain full financePlan keys with all data points matching PDF.</done>
</task>

<task type="auto">
  <name>Task 2: Build full Finanzplan page with charts and content</name>
  <files>webapp/app/[locale]/finance-plan/page.tsx</files>
  <action>
Replace the placeholder stub with a full page. Use the same component patterns as the Results page (FadeInSection, SectionHeader, Card). Import all three chart components from `@/components/results/`.

Page structure:
1. Header (title + subtitle from `financePlan.title`/`financePlan.subtitle`)
2. Kostenstruktur section — 4 stat cards showing token costs, monthly costs, human costs, savings. Use `DollarSign` and `TrendingDown` icons from lucide-react.
3. Preismodell section — PricingComparisonChart component, pass labels from `financePlan.charts.*`. Below chart: 3 pricing tier cards (Starter/Pro/Enterprise) with name, price, target. Show margin note.
4. Kernannahmen section — 4 stat items (avg revenue, CAC, churn, customer development).
5. 3-Jahres-Prognose section — RevenueForecastChart, plus a summary table/cards showing Year 1-3 revenue and profit.
6. Szenarioanalyse section — ScenarioChart with conservative note.

Use `const t = await getTranslations("financePlan");` for all keys. Chart labels come from `t("charts.basic")` etc.

Follow existing code patterns: server component, `setRequestLocale`, `FadeInSection` wrapping each section, `SectionHeader` for section titles.
  </action>
  <verify>`cd webapp && npx next build` completes without errors. Visit /de/finance-plan and /en/finance-plan — page renders with all sections and 3 charts.</verify>
  <done>Finanzplan page shows Kostenstruktur, Preismodell with pricing chart, 3-Jahres-Prognose with forecast chart, and Szenarioanalyse with scenario chart. All data matches PDF.</done>
</task>

</tasks>

<verification>
1. `cd webapp && npx next build` — no errors
2. Finance-plan page renders all 4 content sections
3. All 3 charts display (PricingComparison, RevenueForecast, Scenario)
4. DE and EN both load correctly
5. Data points match PDF: 50-80 EUR monthly, 99/179/individuell pricing, 32.4k/129.6k/388.8k revenue
</verification>

<success_criteria>
- Finanzplan page is fully built with Kostenstruktur, Preismodell (3 tiers + chart), 3-Jahres-Prognose (chart + data), Szenarioanalyse (chart)
- Both DE and EN translations complete
- All financial data matches Projektbericht Sections 12-14
- Build passes, page loads without errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-content-updates-verification/09-01-SUMMARY.md`
</output>
