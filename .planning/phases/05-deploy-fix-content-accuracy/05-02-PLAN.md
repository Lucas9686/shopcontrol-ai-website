---
phase: 05-deploy-fix-content-accuracy
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - webapp/messages/de.json
  - webapp/messages/en.json
  - webapp/app/[locale]/technology/page.tsx
  - webapp/app/[locale]/solution/page.tsx
autonomous: true

must_haves:
  truths:
    - "Technology page shows exactly 6 workflow steps: E-Mail-Abruf, Filterung, Bild-Analyse, Support-Agent-Verarbeitung, E-Mail-Versand, Performance-Logging"
    - "Each workflow step has the correct screenshot from webapp/public/images/workflows/"
    - "Security section shows 4 layers: Jailbreak Detection, NSFW Filter, Topical Alignment, Output Guardrails"
    - "Tools section shows 3 tools: Chat Memory/PostgreSQL, Shopify-Agent, Support-Fall-Agent/Sheets-Agent"
    - "RAG section mentions Pinecone, Cohere Reranker, and embedding model"
    - "Solution page accounting pillar describes WhatsApp-based financial KPI reporting (not invoice generation)"
    - "Tech stack on solution page matches report Table 7.1"
    - "No references to 'Chat-Widget', 'Chatbot', or 'chat widget' anywhere — agent is E-Mail-based"
  artifacts:
    - path: "webapp/messages/de.json"
      provides: "All German content matching report exactly"
    - path: "webapp/messages/en.json"
      provides: "All English content matching report exactly"
    - path: "webapp/app/[locale]/technology/page.tsx"
      provides: "Correct steps array, 4 security cards, 3 tool cards"
    - path: "webapp/app/[locale]/solution/page.tsx"
      provides: "Correct tech stack items"
  key_links:
    - from: "technology/page.tsx steps array"
      to: "de.json technology.workflow.step1-6"
      via: "next-intl t() calls with step keys"
      pattern: "t\\(.*step[1-6]"
    - from: "technology/page.tsx steps array"
      to: "webapp/public/images/workflows/*.png"
      via: "image path in steps array"
      pattern: "/images/workflows/"
---

<objective>
Correct all content inaccuracies on the Technology and Solution pages to match the Jugend Innovativ report exactly. Fix the 6 workflow steps (names, descriptions, screenshots), security section (4 layers), tools section (3 tools), RAG section, accounting pillar description, tech stack, and remove all "Chatbot"/"Chat-Widget" references.

Purpose: Website content must accurately represent the project as described in the report for the Jugend Innovativ jury.
Output: Updated de.json, en.json, technology/page.tsx, and solution/page.tsx with correct content.
</objective>

<execution_context>
@C:\Users\Lucas Benutzer\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\Lucas Benutzer\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-deploy-fix-content-accuracy/05-RESEARCH.md

Read these files before making changes:
@webapp/messages/de.json
@webapp/messages/en.json
@webapp/app/[locale]/technology/page.tsx
@webapp/app/[locale]/solution/page.tsx

Reference the report PDF for exact descriptions:
@Matrealien/da_webshop_agent_bericht (7).pdf
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix technology page structure (TSX) — steps, security, tools</name>
  <files>webapp/app/[locale]/technology/page.tsx</files>
  <action>
Read `webapp/app/[locale]/technology/page.tsx` and make these structural changes:

**1. Update the steps array** to use correct screenshot mappings:
```typescript
const steps = [
  { key: "step1", image: "/images/workflows/get-emails.png" },
  { key: "step2", image: "/images/workflows/filter-sektion.png" },
  { key: "step3", image: "/images/workflows/bildanalyse-sektion.png" },
  { key: "step4", image: "/images/workflows/support-agent-mit-tools.png" },
  { key: "step5", image: "/images/workflows/send-emails.png" },
  { key: "step6", image: "/images/workflows/performance-logging.png" },
];
```

**2. Security section:** Change from 3 cards to 4 cards. Update the grid to accommodate 4 items (e.g., `md:grid-cols-2` for a 2x2 layout). The 4 security keys should be: `security1`, `security2`, `security3`, `security4` (matching the JSON keys we'll set in Task 2).

**3. Tools section:** Change from 4 cards to 3 cards. The 3 tool keys should be: `tool1`, `tool2`, `tool3` (matching JSON keys). Adjust grid accordingly (e.g., `md:grid-cols-3`).

Keep all existing component imports, animations, and layout patterns. Only change the data arrays and grid layouts.
  </action>
  <verify>
- File has exactly 6 steps in the steps array with correct image paths
- Security section renders 4 cards
- Tools section renders 3 cards
- No TypeScript errors: `cd webapp && npx tsc --noEmit` (or at least no errors in this file)
  </verify>
  <done>
technology/page.tsx has 6 correct step image mappings, 4 security card slots, and 3 tool card slots.
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix all content in de.json and en.json</name>
  <files>webapp/messages/de.json, webapp/messages/en.json</files>
  <action>
Read the report PDF at `Matrealien/da_webshop_agent_bericht (7).pdf` for exact descriptions. Then read both JSON files and make these changes:

**In both de.json and en.json:**

**A. Technology workflow steps (TECH-01, TECH-02):**
Replace the 6 step names and descriptions under `technology.workflow` to match report sections 5.2.1-5.2.6:

| Step | German Name | Report Section |
|------|------------|----------------|
| step1 | E-Mail-Abruf | 5.2.1 — Fetching emails from IMAP |
| step2 | Filterung | 5.2.2 — Filtering relevant vs irrelevant emails |
| step3 | Bild-Analyse | 5.2.3 — Analyzing attached images with vision model |
| step4 | Support-Agent-Verarbeitung | 5.2.4 — AI agent processes request with tools |
| step5 | E-Mail-Versand | 5.2.5 — Sending reply via SMTP |
| step6 | Performance-Logging | 5.2.6 — Logging metrics to Google Sheets |

Write descriptions that match the report's explanation of each step. For English, translate accurately.

**B. Security section (TECH-04):**
Replace security items with 4 layers:
- security1: Jailbreak Detection (Erkennung von Manipulationsversuchen)
- security2: NSFW Filter (Filterung unangemessener Inhalte)
- security3: Topical Alignment (Themenrelevanz-Pruefung)
- security4: Output Guardrails (Ausgabe-Sicherheitsschranken)

**C. Tools section (TECH-05):**
Replace tool items with 3 tools:
- tool1: Chat Memory / PostgreSQL (Gesprächsspeicher via Supabase/PostgreSQL)
- tool2: Shopify-Agent (Sub-Agent fuer Shopify-Datenabfragen)
- tool3: Support-Fall-Agent / Sheets-Agent (Sub-Agent fuer Google Sheets Eskalation)

**D. RAG section (TECH-06):**
Update RAG description to mention: Pinecone vector database, Cohere Reranker, embedding model. Match report section 5.3.

**E. Accounting pillar (SOL-01):**
Replace the accounting/Buchhaltung pillar description entirely. It must describe:
- Financial KPI reporting (not invoice generation)
- Data from Shopify, Facebook Ads, and bank accounts
- Automated reports sent via WhatsApp
- NOT invoicing, NOT "Rechnungen erstellt"

**F. Tech stack (SOL-02):**
Update the tech stack items on the solution page to include:
- n8n (workflow automation)
- Claude & GPT (LLM — not just OpenAI)
- Pinecone (vector DB)
- Supabase/PostgreSQL (database)
- Cohere (reranking)
- Shopify API
- WhatsApp Business API

Remove any incorrect items (e.g., "Google Sheets" as primary tech if not accurate per report Table 7.1).

**G. Chat-Widget / Chatbot references (CROSS-01):**
Find and replace ALL occurrences:
- de.json: "vollautonomer Chatbot" -> "vollautonomer E-Mail-Support-Agent" (or similar)
- de.json: "Chat-Widget oder per E-Mail" -> "per E-Mail" (remove chat widget)
- en.json: "fully autonomous chatbot" -> "fully autonomous email support agent"
- en.json: "chat widget or email" -> "via email"
- Search for ANY other "chat", "Chatbot", "Chat-Widget", "widget" references and fix them

Ensure the agent is consistently described as E-Mail-based across ALL text.
  </action>
  <verify>
- `grep -ri "chatbot\|chat-widget\|chat widget" webapp/messages/` returns no results
- `grep -c "step1\|step2\|step3\|step4\|step5\|step6" webapp/messages/de.json` shows 6 steps exist
- `grep -c "security1\|security2\|security3\|security4" webapp/messages/de.json` shows 4 security items
- `grep -c "tool1\|tool2\|tool3" webapp/messages/de.json` shows 3 tools (not 4)
- `grep -i "whatsapp" webapp/messages/de.json` returns results (accounting pillar mentions WhatsApp)
- `grep -i "rechnung" webapp/messages/de.json` returns NO results related to invoice generation
- Build succeeds: `cd webapp && pnpm build`
  </verify>
  <done>
Both de.json and en.json contain correct content for all 6 workflow steps, 4 security layers, 3 tools, RAG details, accounting pillar (WhatsApp KPI reporting), tech stack, and zero references to chatbot/chat-widget. Build passes.
  </done>
</task>

</tasks>

<verification>
1. `cd webapp && pnpm build` succeeds
2. `grep -ri "chatbot\|chat-widget\|chat widget" webapp/messages/` returns empty
3. Technology page TSX has 6 steps with correct images, 4 security cards, 3 tool cards
4. de.json and en.json both have matching structure for steps, security, tools
5. Accounting pillar text mentions WhatsApp and financial KPIs, not invoices
6. Tech stack includes Claude, Supabase, Cohere
</verification>

<success_criteria>
- All 10 requirements (TECH-01 through TECH-06, SOL-01, SOL-02, CROSS-01) are satisfied
- Content matches the Jugend Innovativ report
- Build passes with no errors
- Both languages (DE and EN) are updated consistently
</success_criteria>

<output>
After completion, create `.planning/phases/05-deploy-fix-content-accuracy/05-02-SUMMARY.md`
</output>
